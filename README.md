# OM Research

![gimbal](./docs/gimbal.png)

This repository explores the Bluetooth Low Energy (BLE) protocol used by the Osmo Mobile series of gimbals.

The official mobile apps are outdated and require broad system permissions.
However, the gimbals themselves communicate through a simple BLE protocol.

The goal of this project is to document that protocol in an open and reproducible way,
enabling the hardware to be controlled from any Bluetooth host, such as a laptop.

This project is for educational and interoperability purposes only.
No proprietary software or firmware is distributed in this repository.

## SDK App
The Osmo Mobile 2 (OM2) is the only gimbal in the series
that can still be actuated using the official [Mobile SDK](https://github.com/dji-sdk/Mobile-SDK-Android).

The plan is to first build a minimal Android application (see [sdk-app](./sdk-app)) that can discover and connect to the device,
then send rotation commands with precise, controllable parameters.
Next, develop a sniffing tool to capture and analyze the BLE traffic generated by the app.

## Proof of concept app

See in action on [imgur](https://imgur.com/a/osmo-mobile-over-ble-uzwAr4u).

Tested on: OM2, OM3, OM4.

- `duml.py` - basic parser of DUML packets; gimbal follows the same protocol used in other products, like Mavic
- `gimbal.py` - a driver handling connection, MTU discovery, writing output commands and subscribing to notification channel
- `rotate.py` - example program, issues several roration commands to the gimbal

> [!NOTE]
> In Linux/BlueZ, make sure that device is not currently connected to your system,
> or Bleak will not be able to connect

## Misc links:
- [Mobile SDK Android](https://github.com/dji-sdk/Mobile-SDK-Android)
- [SDK API Reference](https://developer.dji.com/api-reference/android-api/Components/SDKManager/DJISDKManager.html)
- [OM2 Manual](https://dl.djicdn.com/downloads/Osmo+Mobile+2/20181107/Osmo_Mobile_2_User_Manual_EN.pdf)
- [Official GO App v3](https://www.dji.com/global/downloads/djiapp/dji-go-3)
- [NRF BLE Sniffer](https://web.archive.org/web/20250622120533/https://www.nordicsemi.com/Products/Development-tools/nRF-Sniffer-for-Bluetooth-LE/Download?lang=en#infotabs)
- [nrf_sniffer_for_bluetooth_le_4.1.1.zip](https://nsscprodmedia.blob.core.windows.net/prod/software-and-other-downloads/desktop-software/nrf-sniffer/sw/nrf_sniffer_for_bluetooth_le_4.1.1.zip)
